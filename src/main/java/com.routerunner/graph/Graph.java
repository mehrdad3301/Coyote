package main.java.com.routerunner.graph;import java.util.ArrayList;import java.util.List;import main.java.com.routerunner.util.Point;import static main.java.com.routerunner.util.GeoMath.getHaversineDistance;/**Graph represents underlying road network. It uses an adjacency listto capture relations between nodes. */public class Graph {    protected int numEdges ;    protected int numNodes ;    protected final ArrayList<ArrayList<Arc>> adjacencyList ;    protected ArrayList<Node> nodes ;    public Graph() {        this.numEdges = 0;        this.numNodes = 0 ;        this.nodes = new ArrayList<>();        this.adjacencyList = new ArrayList<>();    }    public void addNode(Node node) {        this.nodes.add(node) ;        this.numNodes += 1 ;    }    public void addEdge(int from, int to) {        int cost = getHaversineDistance(nodes.get(from).toPoint(),                                        nodes.get(to).toPoint());        Arc arc = new Arc(to, cost) ;        this.adjacencyList.get(from).add(arc) ;        this.numEdges += 1 ;    }    public static Graph buildFromOSM(String fileAddress) throws Exception {        return new GraphBuilder(fileAddress).buildGraph() ;    }    public int getNumEdges() {        return numEdges;    }    public int getNumNodes() {        return numNodes;    }    public ArrayList<ArrayList<Arc>> getAdjacencyList() {        return adjacencyList;    }    public ArrayList<Node> getNodes() {        return nodes;    }    @Override    public String toString() {        StringBuilder s = new StringBuilder("Graph{\n");        s.append("numEdges=").append(numEdges).append(",\n").                append("numNodes=").append(numNodes).append(",\n");        s.append("adjecency matrix= {\n");        for (int i = 0 ; i < adjacencyList.size() ; i++) {            s.append("\t").append(i).append("= ") ;            ArrayList<Arc> node = adjacencyList.get(i) ;            for (Arc arc : node) {                s.append(arc.headNodeId).append(",");            }            s.append("\n") ;        }        s.append("}");        return s.toString() ;    }}